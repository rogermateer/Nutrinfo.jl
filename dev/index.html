<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Nutrinfo.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://rogermateer.github.io/Nutrinfo.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>Nutrinfo.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/rogermateer/Nutrinfo.jl/blob/master/docs/src/index.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Nutrinfo"><a class="docs-heading-anchor" href="#Nutrinfo">Nutrinfo</a><a id="Nutrinfo-1"></a><a class="docs-heading-anchor-permalink" href="#Nutrinfo" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/rogermateer/Nutrinfo.jl">Nutrinfo</a>.</p><ul><li><a href="#Nutrinfo._add_components-Tuple{MetaDiGraph, NutrientVector}"><code>Nutrinfo._add_components</code></a></li><li><a href="#Nutrinfo._find_nv_in_db-Tuple{String, Vector{NutrientVector}}"><code>Nutrinfo._find_nv_in_db</code></a></li><li><a href="#Nutrinfo.add_edge-Tuple{MetaDiGraph, String, String, String}"><code>Nutrinfo.add_edge</code></a></li><li><a href="#Nutrinfo.add_vertex-Tuple{MetaDiGraph, String}"><code>Nutrinfo.add_vertex</code></a></li><li><a href="#Nutrinfo.list_cycles-Tuple{MetaDiGraph}"><code>Nutrinfo.list_cycles</code></a></li><li><a href="#Nutrinfo.list_edges-Tuple{MetaDiGraph}"><code>Nutrinfo.list_edges</code></a></li><li><a href="#Nutrinfo.list_frontier-Tuple{MetaDiGraph}"><code>Nutrinfo.list_frontier</code></a></li><li><a href="#Nutrinfo.list_paths-Tuple{MetaDiGraph, String}"><code>Nutrinfo.list_paths</code></a></li><li><a href="#Nutrinfo.make_graph-Tuple{}"><code>Nutrinfo.make_graph</code></a></li><li><a href="#Nutrinfo.reduce_path-Tuple{Vector{String}, Vector{NutrientVector}}"><code>Nutrinfo.reduce_path</code></a></li><li><a href="#Nutrinfo.resolve-Tuple{NutrientVector, Vector{NutrientVector}}"><code>Nutrinfo.resolve</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="Nutrinfo._add_components-Tuple{MetaDiGraph, NutrientVector}" href="#Nutrinfo._add_components-Tuple{MetaDiGraph, NutrientVector}"><code>Nutrinfo._add_components</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>Nutrinfo.resolve</code> helper function.</p><p>Adds all the Components of the supplied NutrientVector <code>src</code> as edges from the existing vertex for <code>src</code> to either new or existing vertices for the Components of <code>src</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rogermateer/Nutrinfo.jl/blob/cb8c234001663df8ae0563de48e2fe2a0bc648a8/src/Nutrinfo.jl#L402-L410">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nutrinfo._find_nv_in_db-Tuple{String, Vector{NutrientVector}}" href="#Nutrinfo._find_nv_in_db-Tuple{String, Vector{NutrientVector}}"><code>Nutrinfo._find_nv_in_db</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>Nutrinfo.resolve</code> helper function.</p><p>Try to find the NutrientVector with name <code>name</code> in the supplied NutrientVector database <code>nvDB</code>, and return the collection of matching NutrientVectors.</p><p>If this collection is empty, there is no match, and the algorithm regards the NutrientVector in question as a basis vector.  (It could also mean that the database is missing an entry that should be there, and it is up to the user to decide whether that is the case, and to add it if possible.)</p><p>If the collection has exactly one member, that is a match.</p><p>If it has more than one member, then it is flagged as an error by the algorithm, and the database needs to be fixed to resolve the duplication.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rogermateer/Nutrinfo.jl/blob/cb8c234001663df8ae0563de48e2fe2a0bc648a8/src/Nutrinfo.jl#L426-L446">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nutrinfo.add_edge-Tuple{MetaDiGraph, String, String, String}" href="#Nutrinfo.add_edge-Tuple{MetaDiGraph, String, String, String}"><code>Nutrinfo.add_edge</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>Nutrinfo.resolve</code> helper function.</p><p>Adds an edge to our MetaDiGraph representing the relationship that NutrientVector <code>src</code> has quantity <code>qty</code> of NutrientVector <code>dst</code> as a Component.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rogermateer/Nutrinfo.jl/blob/cb8c234001663df8ae0563de48e2fe2a0bc648a8/src/Nutrinfo.jl#L277-L285">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nutrinfo.add_vertex-Tuple{MetaDiGraph, String}" href="#Nutrinfo.add_vertex-Tuple{MetaDiGraph, String}"><code>Nutrinfo.add_vertex</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>Nutrinfo.resolve</code> helper function.</p><p>Adds a vertex to our MetaDiGraph representing NutrientVector <code>nv</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rogermateer/Nutrinfo.jl/blob/cb8c234001663df8ae0563de48e2fe2a0bc648a8/src/Nutrinfo.jl#L260-L266">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nutrinfo.list_cycles-Tuple{MetaDiGraph}" href="#Nutrinfo.list_cycles-Tuple{MetaDiGraph}"><code>Nutrinfo.list_cycles</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>Nutrinfo.resolve</code> helper function.</p><p>Lists all the cycles in our MetaDiGraph.  We require that there be no cycles if we are going to be able to use <code>list_paths()</code>.  So this function should be called before calling <code>list_paths()</code> to ensure that the latter terminates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rogermateer/Nutrinfo.jl/blob/cb8c234001663df8ae0563de48e2fe2a0bc648a8/src/Nutrinfo.jl#L300-L309">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nutrinfo.list_edges-Tuple{MetaDiGraph}" href="#Nutrinfo.list_edges-Tuple{MetaDiGraph}"><code>Nutrinfo.list_edges</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>Nutrinfo.resolve</code> helper function.</p><p>Lists all edges in our MetaDiGraph as three element arrays of the form <code>[src,qty,dst]</code>, representing the relationship that NutrientVector <code>src</code> has quantity <code>qty</code> of NutrientVector <code>dst</code> as a Component.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rogermateer/Nutrinfo.jl/blob/cb8c234001663df8ae0563de48e2fe2a0bc648a8/src/Nutrinfo.jl#L319-L327">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nutrinfo.list_frontier-Tuple{MetaDiGraph}" href="#Nutrinfo.list_frontier-Tuple{MetaDiGraph}"><code>Nutrinfo.list_frontier</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>Nutrinfo.resolve</code> helper function.</p><p>Lists all vertices in our MetaDiGraph with outdegree zero.  These correspond to NutrientVectors that either are terminal basis NutrientVectors, or are NutrientVectors that we haven&#39;t yet tried to expand.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rogermateer/Nutrinfo.jl/blob/cb8c234001663df8ae0563de48e2fe2a0bc648a8/src/Nutrinfo.jl#L337-L346">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nutrinfo.list_paths-Tuple{MetaDiGraph, String}" href="#Nutrinfo.list_paths-Tuple{MetaDiGraph, String}"><code>Nutrinfo.list_paths</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>Nutrinfo.resolve</code> helper function.</p><p>List all possible paths in the supplied MetaDiGraph <code>g</code> that start at vertex <code>src</code>.</p><p>Each path is an odd-length array of strictly alternating names of vertices and edges, beginning with the vertex <code>src</code>.</p><p>This can be expected not to terminate if <code>g</code> contains any cycles, so use <code>list_cycles()</code> to determine that first.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rogermateer/Nutrinfo.jl/blob/cb8c234001663df8ae0563de48e2fe2a0bc648a8/src/Nutrinfo.jl#L383-L396">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nutrinfo.make_graph-Tuple{}" href="#Nutrinfo.make_graph-Tuple{}"><code>Nutrinfo.make_graph</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>Nutrinfo.resolve</code> helper function.</p><p>Creates a <code>MetaDiGraph</code> where vertices represent <code>NutrientVectors</code>, and directed edges represent the <code>Component</code> relationships between them.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rogermateer/Nutrinfo.jl/blob/cb8c234001663df8ae0563de48e2fe2a0bc648a8/src/Nutrinfo.jl#L244-L252">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nutrinfo.reduce_path-Tuple{Vector{String}, Vector{NutrientVector}}" href="#Nutrinfo.reduce_path-Tuple{Vector{String}, Vector{NutrientVector}}"><code>Nutrinfo.reduce_path</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>Nutrinfo.resolve</code> helper function.</p><p>Take a <code>path</code> (produced by <code>list_paths()</code>) and &quot;reduce&quot; it to the equivalent &quot;weight&quot; of Component denoted by its terminal vertex.</p><p>Multiply all the edges together, and then divide by all the servings of internal vertices</p><p>edges are path[2], path[4], ..., path[length(path)-1]</p><p>internal vertices are path[3], path[5], ..., path[length(path)-2]</p><p>The point of this exercise is to create Components for all paths returned by <code>list_paths()</code> so that they can be added together to get the Components of the output of <code>resolve()</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rogermateer/Nutrinfo.jl/blob/cb8c234001663df8ae0563de48e2fe2a0bc648a8/src/Nutrinfo.jl#L452-L470">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Nutrinfo.resolve-Tuple{NutrientVector, Vector{NutrientVector}}" href="#Nutrinfo.resolve-Tuple{NutrientVector, Vector{NutrientVector}}"><code>Nutrinfo.resolve</code></a> — <span class="docstring-category">Method</span></header><section><div><p>The &quot;resolve&quot; NutrientVector operation</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rogermateer/Nutrinfo.jl/blob/cb8c234001663df8ae0563de48e2fe2a0bc648a8/src/Nutrinfo.jl#L512-L516">source</a></section></article><p>Nutrinfo.jl is a program for tracking energy and macronutrient consumption.</p><p>It takes as input two JSON files:</p><ul><li>A nutrient information database, which contains nutritional information about a collection of foodstuffs as an array of JSON objects. This JSON array is validated using https://github.com/fredo-dedup/JSONSchema.jl to ensure that the nutritional information fields are recognised by the program.</li><li>A food diary, which contains information about the user&#39;s daily intake of foodstuffs over a period of time.</li></ul><p>For now, it produces as output a daily summary of the total energy, macronutrient quantity and macronutrient ratio consumed.</p><p>(In future it could be extended to supply micronutrient quantity information and create plots.)</p><p>It makes use of https://github.com/JuliaIntervals/IntervalArithmetic.jl to deal with uncertainty in information about nutritional constituents and/or quantities of consumed foodstuffs.</p><p>It makes use of https://github.com/PainterQubits/Unitful.jl to deal with standard (energy, capacity, mass) as well as ad-hoc (approximate serving sizes) needs for appropriately processing the kinds of quantities we&#39;ll be dealing with.</p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.16 on <span class="colophon-date" title="Monday 9 May 2022 05:21">Monday 9 May 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
